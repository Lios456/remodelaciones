
{% extends 'base.html' %}
{% block main %}
<main id="main">
    <div class="container mt-5">
        <h2>Crear Reforma</h2>
        <form method="POST" id="reformaForm">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-success">Guardar</button>
            <a href="{% url 'reformas_list' %}" class="btn btn-secondary">Cancelar</a>
        </form>
    </div>
</main>
{% endblock %}

{% block scripts %}
    <script>
        //Reforma

$(document).ready(function() {
    $("#reformaForm").validate({
        errorClass: "is-invalid",
            validClass: "is-valid",
            errorPlacement: function (error, element) {

                error.insertAfter(element);
                error.addClass("invalid-feedback"); 
            },
            highlight: function (element, errorClass, validClass) {

                $(element).addClass(errorClass).removeClass(validClass);
            },
            unhighlight: function (element, errorClass, validClass) {

                $(element).removeClass(errorClass).addClass(validClass);
            },
        rules: {
            inmueble: {
                required: true
            },
            descripcion: {
                required: true
            },
            fecha_inicio: {
                required: true,
                date: true
            },
            costo_estimado: {
                required: true,
                number: true
            },
            estado: {
                required: true
            }
        },
        messages: {
            inmueble: {
                required: "El inmueble es obligatorio"
            },
            descripcion: {
                required: "La descripción es obligatoria"
            },
            fecha_inicio: {
                required: "La fecha de inicio es obligatoria",
                date: "Debe ser una fecha válida"
            },
            costo_estimado: {
                required: "El costo estimado es obligatorio",
                number: "Debe ser un número válido"
            },
            estado: {
                required: "El estado es obligatorio"
            }
        }
    });
});
    </script>
{% endblock  %}